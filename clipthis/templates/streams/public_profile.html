{% extends 'base.html' %}
{% block title %}{{ user_obj.get_full_name|default:user_obj.username }} ‚Ä¢ Profile{% endblock %}
{% block content %}
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">
      <div class="card shadow-sm">
        <div class="card-body">
          <h1 class="h4 mb-3">{{ user_obj.get_full_name|default:user_obj.username }}</h1>

          <h2 class="h5">Analytics</h2>
          <div class="row gy-2 gx-3 mt-1 mb-3">
            <div class="col-6 col-md-3"><strong>Streams</strong>: {{ analytics.streams_created }}</div>
            <div class="col-6 col-md-3"><strong>Clips</strong>: {{ analytics.clips_created }}</div>
            <div class="col-12"></div>
            <div class="col-md-6">
              <div class="fw-semibold mb-1">Votes cast</div>
              <div class="text-muted small">Stream üëç {{ analytics.cast.streams_up }} ‚Ä¢ üëé {{ analytics.cast.streams_down }}</div>
              <div class="text-muted small">Clip üëç {{ analytics.cast.clips_up }} ‚Ä¢ üëé {{ analytics.cast.clips_down }}</div>
              <div class="text-muted small">Total: {{ analytics.cast.total }}</div>
            </div>
            <div class="col-md-6">
              <div class="fw-semibold mb-1">Votes received</div>
              <div class="text-muted small">On streams üëç {{ analytics.received.streams_up }} ‚Ä¢ üëé {{ analytics.received.streams_down }}</div>
              <div class="text-muted small">On clips üëç {{ analytics.received.clips_up }} ‚Ä¢ üëé {{ analytics.received.clips_down }}</div>
              <div class="text-muted small">Total: {{ analytics.received.total }}</div>
            </div>
          </div>

          <h2 class="h5">Payment Information</h2>
          <div class="row g-3 mt-1">
            {% if profile.paypal %}
              <div class="col-md-6"><strong>PayPal:</strong> {{ profile.paypal }}</div>
            {% endif %}
            {% if profile.cashapp %}
              <div class="col-md-6"><strong>Cash App:</strong> {{ profile.cashapp }}</div>
            {% endif %}
            {% if profile.venmo %}
              <div class="col-md-6"><strong>Venmo:</strong> {{ profile.venmo }}</div>
            {% endif %}
            {% if profile.btc_address %}
              <div class="col-md-12"><strong>BTC:</strong> {{ profile.btc_address }}</div>
            {% endif %}
            {% if profile.eth_address %}
              <div class="col-md-12"><strong>ETH:</strong> {{ profile.eth_address }}</div>
            {% endif %}
            {% if profile.sol_address %}
              <div class="col-md-12"><strong>SOL:</strong> {{ profile.sol_address }}</div>
            {% endif %}
            {% if profile.other_handle %}
              <div class="col-md-12"><strong>Other:</strong> {{ profile.other_handle }}</div>
            {% endif %}
            {% if profile.payment_note %}
              <div class="col-md-12"><strong>Note:</strong> {{ profile.payment_note }}</div>
            {% endif %}
            {% if not profile.paypal and not profile.cashapp and not profile.venmo and not profile.btc_address and not profile.eth_address and not profile.sol_address and not profile.other_handle and not profile.payment_note %}
              <div class="col-12 text-muted">No payment details shared.</div>
            {% endif %}
          </div>

          <h2 class="h5 mt-4">Social Profiles</h2>
          <div class="row g-3 mt-1">
            {% if profile.youtube %}
              <div class="col-md-6"><strong>YouTube:</strong> {{ profile.youtube }}</div>
            {% endif %}
            {% if profile.twitch %}
              <div class="col-md-6"><strong>Twitch:</strong> {{ profile.twitch }}</div>
            {% endif %}
            {% if profile.kick %}
              <div class="col-md-6"><strong>Kick:</strong> {{ profile.kick }}</div>
            {% endif %}
            {% if profile.tiktok %}
              <div class="col-md-6"><strong>TikTok:</strong> {{ profile.tiktok }}</div>
            {% endif %}
            {% if profile.instagram %}
              <div class="col-md-6"><strong>Instagram:</strong> {{ profile.instagram }}</div>
            {% endif %}
            {% if profile.x %}
              <div class="col-md-6"><strong>X (Twitter):</strong> {{ profile.x }}</div>
            {% endif %}
            {% if profile.facebook %}
              <div class="col-md-6"><strong>Facebook:</strong> {{ profile.facebook }}</div>
            {% endif %}
            {% if profile.reddit %}
              <div class="col-md-6"><strong>Reddit:</strong> {{ profile.reddit }}</div>
            {% endif %}
            {% if profile.discord %}
              <div class="col-md-6"><strong>Discord:</strong> {{ profile.discord }}</div>
            {% endif %}
            {% if not profile.youtube and not profile.twitch and not profile.kick and not profile.tiktok and not profile.instagram and not profile.x and not profile.facebook and not profile.reddit and not profile.discord %}
              <div class="col-12 text-muted">No social profiles shared.</div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
